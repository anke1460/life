!function(a,b){function c(a){for(var c in a)if(j[a[c]]!==b)return!0;return!1}function d(c,d,e){var f=c;return"object"==typeof d?c.each(function(){h[this.id]&&h[this.id].destroy(),new a.mobiscroll.classes[d.component||"Scroller"](this,d)}):("string"==typeof d&&c.each(function(){var a;return(a=h[this.id])&&a[d]&&(a=a[d].apply(this,Array.prototype.slice.call(e,1)),a!==b)?(f=a,!1):void 0}),f)}function e(a){return!f.tapped||a.tap||"TEXTAREA"==a.target.nodeName&&"mousedown"==a.type?void 0:(a.stopPropagation(),a.preventDefault(),!1)}var f,g=+new Date,h={},i=a.extend,j=document.createElement("modernizr").style,k=c(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),l=c(["flex","msFlex","WebkitBoxDirection"]),m=function(){var b,a=["Webkit","Moz","O","ms"];for(b in a)if(c([a[b]+"Transform"]))return"-"+a[b].toLowerCase()+"-";return""}(),n=m.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");a.fn.mobiscroll=function(b){return i(this,a.mobiscroll.components),d(this,b,arguments)},f=a.mobiscroll=a.mobiscroll||{version:"2.17.0",running:1,util:{prefix:m,jsPrefix:n,has3d:k,hasFlex:l,isOldAndroid:/android [1-3]/i.test(navigator.userAgent),preventClick:function(){f.tapped++,setTimeout(function(){f.tapped--},500)},testTouch:function(b,c){if("touchstart"==b.type)a(c).attr("data-touch","1");else if(a(c).attr("data-touch"))return a(c).removeAttr("data-touch"),!1;return!0},objectToArray:function(a){var c,b=[];for(c in a)b.push(a[c]);return b},arrayToObject:function(a){var c,b={};if(a)for(c=0;c<a.length;c++)b[a[c]]=a[c];return b},isNumeric:function(a){return 0<=a-parseFloat(a)},isString:function(a){return"string"==typeof a},getCoord:function(a,b,c){var d=a.originalEvent||a,b=(c?"client":"page")+b;return d.changedTouches?d.changedTouches[0][b]:a[b]},getPosition:function(c,d){var f,g,e=window.getComputedStyle?getComputedStyle(c[0]):c[0].style;return k?(a.each(["t","webkitT","MozT","OT","msT"],function(a,c){return e[c+"ransform"]!==b?(f=e[c+"ransform"],!1):void 0}),f=f.split(")")[0].split(", "),g=d?f[13]||f[5]:f[12]||f[4]):g=d?e.top.replace("px",""):e.left.replace("px",""),g},addIcon:function(b,c){var d={},e=b.parent(),f=e.find(".mbsc-err-msg"),g=b.attr("data-icon-align")||"left",h=b.attr("data-icon");a('<span class="mbsc-input-wrap"></span>').insertAfter(b).append(b),f&&e.find(".mbsc-input-wrap").append(f),h&&(-1!==h.indexOf("{")?d=JSON.parse(h):d[g]=h,i(d,c),e.addClass((d.right?"mbsc-ic-right ":"")+(d.left?" mbsc-ic-left":"")).find(".mbsc-input-wrap").append(d.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+d.left+'"></span>':"").append(d.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+d.right+'"></span>':""))},constrain:function(a,b,c){return Math.max(b,Math.min(a,c))},vibrate:function(a){"vibrate"in navigator&&navigator.vibrate(a||50)}},tapped:0,autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},frame:{},listview:{},menustrip:{},progress:{}},i18n:{},instances:h,classes:{},components:{},defaults:{context:"body",mousewheel:!0,vibrate:!0},setDefaults:function(a){i(this.defaults,a)},presetShort:function(a,c,e){this.components[a]=function(f){return d(this,i(f,{component:c,preset:!1===e?b:a}),arguments)}}},a.mobiscroll.classes.Base=function(b,c){var d,e,f,j,k,l,m=a.mobiscroll,n=m.util,o=n.getCoord,p=this;p.settings={},p._presetLoad=function(){},p._init=function(a){f=p.settings,i(c,a),p._hasDef&&(l=m.defaults),i(f,p._defaults,l,c),p._hasTheme&&(k=f.theme,"auto"!=k&&k||(k=m.autoTheme),"default"==k&&(k="mobiscroll"),c.theme=k,j=m.themes[p._class]?m.themes[p._class][k]:{}),p._hasLang&&(d=m.i18n[f.lang]),p._hasTheme&&p.trigger("onThemeLoad",[d,c]),i(f,j,d,l,c),p._hasPreset&&(p._presetLoad(f),e=m.presets[p._class][f.preset])&&(e=e.call(b,p),i(f,e,c))},p._destroy=function(){p.trigger("onDestroy",[]),delete h[b.id],p=null},p.tap=function(b,c,d){function e(b){l||(d&&b.preventDefault(),l=this,j=o(b,"X"),k=o(b,"Y"),m=!1,"pointerdown"!=b.type)||a(document).on("pointermove",g).on("pointerup",h)}function g(a){(l&&!m&&20<Math.abs(o(a,"X")-j)||20<Math.abs(o(a,"Y")-k))&&(m=!0)}function h(b){l&&(m||(b.preventDefault(),c.call(l,b,p)),"pointerup"==b.type&&a(document).off("pointermove",g).off("pointerup",h),l=!1,n.preventClick())}function i(){l=!1}var j,k,l,m;f.tap&&b.on("touchstart.dw pointerdown.dw",e).on("touchcancel.dw pointercancel.dw",i).on("touchmove.dw",g).on("touchend.dw",h),b.on("click.dw",function(a){a.preventDefault(),c.call(this,a,p)})},p.trigger=function(d,f){var g;return f.push(p),a.each([l,j,e,c],function(a,c){c&&c[d]&&(g=c[d].apply(b,f))}),g},p.option=function(a,b){var c={};"object"==typeof a?c=a:c[a]=b,p.init(c)},p.getInst=function(){return p},c=c||{},b.id||(b.id="mobiscroll"+ ++g),h[b.id]=p},document.addEventListener&&a.each(["mouseover","mousedown","mouseup","click"],function(a,b){document.addEventListener(b,e,!0)})}(jQuery),function(a,b,c,d){var e,f,g=a.mobiscroll,h=g.util,i=h.jsPrefix,j=h.has3d,k=h.constrain,l=h.isString,m=h.isOldAndroid,h=/(iphone|ipod|ipad).* os 8_/i.test(navigator.userAgent),n=function(){},o=function(a){a.preventDefault()};g.classes.Frame=function(h,p,q){function r(b){L&&L.removeClass("dwb-a"),L=a(this),!L.hasClass("dwb-d")&&!L.hasClass("dwb-nhl")&&L.addClass("dwb-a"),"mousedown"===b.type?a(c).on("mouseup",s):"pointerdown"===b.type&&a(c).on("pointerup",s)}function s(b){L&&(L.removeClass("dwb-a"),L=null),"mouseup"===b.type?a(c).off("mouseup",s):"pointerup"===b.type&&a(c).off("pointerup",s)}function t(a){13==a.keyCode?Z.select():27==a.keyCode&&Z.cancel()}function u(b){var c,g,h,i=U.focusOnClose;Z._markupRemove(),E.remove(),e&&!b&&setTimeout(function(){if(i===d||!0===i){f=!0,c=e[0],h=c.type,g=c.value;try{c.type="button"}catch(b){}e.focus(),c.type=h,c.value=g}else i&&a(i).focus()},200),Z._isVisible=!1,N("onHide",[])}function v(a){clearTimeout(ab[a.type]),ab[a.type]=setTimeout(function(){var b="scroll"==a.type;(!b||V)&&Z.position(!b)},200)}function w(a){a.target.nodeType&&!H[0].contains(a.target)&&H.focus()}function x(b,d){b&&b(),a(c.activeElement).is("input,textarea")&&a(c.activeElement).blur(),!1!==Z.show()&&(e=d,setTimeout(function(){f=!1},300))}function y(){Z._fillValue(),N("onSelect",[Z._value])}function z(){N("onCancel",[Z._value])}function A(){Z.setVal(null,!0)}var B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z=this,$=a(h),_=[],ab={};g.classes.Base.call(this,h,p,!0),Z.position=function(b){var e,f,g,h,i,j,l,m,o,p=0,q=0,n={},r=Math.min(I[0].innerWidth||I.innerWidth(),G.width()),s=I[0].innerHeight||I.innerHeight();X===r&&Y===s&&b||T||((Z._isFullScreen||/top|bottom/.test(U.display))&&H.width(r),!1!==N("onPosition",[E,r,s])&&P&&(f=I.scrollLeft(),b=I.scrollTop(),h=U.anchor===d?$:a(U.anchor),Z._isLiquid&&"liquid"!==U.layout&&(400>r?E.addClass("dw-liq"):E.removeClass("dw-liq")),!Z._isFullScreen&&/modal|bubble/.test(U.display)&&(J.width(""),a(".mbsc-w-p",E).each(function(){e=a(this).outerWidth(!0),p+=e,q=e>q?e:q}),e=p>r?q:p,J.width(e+1).css("white-space",p>r?"":"nowrap")),Q=H.outerWidth(),R=H.outerHeight(!0),V=s>=R&&r>=Q,(Z.scrollLock=V)?C.addClass("mbsc-fr-lock"):C.removeClass("mbsc-fr-lock"),"modal"==U.display?(f=Math.max(0,f+(r-Q)/2),g=b+(s-R)/2):"bubble"==U.display?(o=!0,m=a(".dw-arrw-i",E),g=h.offset(),j=Math.abs(C.offset().top-g.top),l=Math.abs(C.offset().left-g.left),i=h.outerWidth(),h=h.outerHeight(),f=k(l-(H.outerWidth(!0)-i)/2,f+3,f+r-Q-3),g=j-R,b>g||j>b+s?(H.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),g=j+h):H.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),m=m.outerWidth(),i=k(l+i/2-(f+(Q-m)/2),0,m),a(".dw-arr",E).css({left:i})):"top"==U.display?g=b:"bottom"==U.display&&(g=b+s-R),g=0>g?0:g,n.top=g,n.left=f,H.css(n),G.height(0),n=Math.max(g+R,"body"==U.context?a(c).height():C[0].scrollHeight),G.css({height:n}),o&&(g+R>b+s||j>b+s)&&(T=!0,setTimeout(function(){T=!1},300),I.scrollTop(Math.min(g+R-s,n-s))),X=r,Y=s))},Z.attachShow=function(a,b){_.push({readOnly:a.prop("readonly"),el:a}),"inline"!==U.display&&(W&&a.is("input")&&a.prop("readonly",!0).on("mousedown.dw",function(a){a.preventDefault()}),U.showOnFocus&&a.on("focus.dw",function(){f||x(b,a)}),U.showOnTap&&(a.on("keydown.dw",function(c){(32==c.keyCode||13==c.keyCode)&&(c.preventDefault(),c.stopPropagation(),x(b,a))}),Z.tap(a,function(){x(b,a)})))},Z.select=function(){P?Z.hide(!1,"set",!1,y):y()},Z.cancel=function(){P?Z.hide(!1,"cancel",!1,z):y()},Z.clear=function(){N("onClear",[E]),P&&!Z.live?Z.hide(!1,"clear",!1,A):A()},Z.enable=function(){U.disabled=!1,Z._isInput&&$.prop("disabled",!1)},Z.disable=function(){U.disabled=!0,Z._isInput&&$.prop("disabled",!0)},Z.show=function(c,e){var f;if(!U.disabled&&!Z._isVisible){if(Z._readValue(),!1===N("onBeforeShow",[]))return!1;M=m?!1:U.animate,!1!==M&&("top"==U.display&&(M="slidedown"),"bottom"==U.display&&(M="slideup")),f='<div lang="'+U.lang+'" class="mbsc-'+U.theme+(U.baseTheme?" mbsc-"+U.baseTheme:"")+" dw-"+U.display+" "+(U.cssClass||"")+(Z._isLiquid?" dw-liq":"")+(m?" mbsc-old":"")+(O?"":" dw-nobtn")+'"><div class="dw-persp">'+(P?'<div class="dwo"></div>':"")+"<div"+(P?' role="dialog" tabindex="-1"':"")+' class="dw'+(U.rtl?" dw-rtl":" dw-ltr")+'">'+("bubble"===U.display?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':"")+'<div class="dwwr"><div aria-live="assertive" class="dw-aria dw-hidden"></div>'+(U.headerText?'<div class="dwv">'+(l(U.headerText)?U.headerText:"")+"</div>":"")+'<div class="dwcc">',f+=Z._generateContent(),f+="</div>",O&&(f+='<div class="dwbc">',a.each(K,function(a,b){b=l(b)?Z.buttons[b]:b,"set"===b.handler&&(b.parentClass="dwb-s"),"cancel"===b.handler&&(b.parentClass="dwb-c"),f+="<div"+(U.btnWidth?' style="width:'+100/K.length+'%"':"")+' class="dwbw '+(b.parentClass||"")+'"><div tabindex="0" role="button" class="dwb'+a+" dwb-e "+(b.cssClass===d?U.btnClass:b.cssClass)+(b.icon?" mbsc-ic mbsc-ic-"+b.icon:"")+'">'+(b.text||"")+"</div></div>"}),f+="</div>"),f+="</div></div></div></div>",E=a(f),G=a(".dw-persp",E),F=a(".dwo",E),J=a(".dwwr",E),D=a(".dwv",E),H=a(".dw",E),B=a(".dw-aria",E),Z._markup=E,Z._header=D,Z._isVisible=!0,S="orientationchange resize",Z._markupReady(E),N("onMarkupReady",[E]),P?(a(b).on("keydown",t),U.scrollLock&&E.on("touchmove mousewheel wheel",function(a){V&&a.preventDefault()}),"Moz"!==i&&a("input,select,button",C).each(function(){this.disabled||a(this).addClass("dwtd").prop("disabled",!0)}),g.activeInstance&&g.activeInstance.hide(),S+=" scroll",g.activeInstance=Z,E.appendTo(C),U.focusTrap&&I.on("focusin",w),j&&M&&!c&&E.addClass("dw-in dw-trans").on("webkitAnimationEnd animationend",function(){E.off("webkitAnimationEnd animationend").removeClass("dw-in dw-trans").find(".dw").removeClass("dw-"+M),e||H.focus(),Z.ariaMessage(U.ariaMessage)}).find(".dw").addClass("dw-"+M)):$.is("div")&&!Z._hasContent?$.html(E):E.insertAfter($),Z._markupInserted(E),N("onMarkupInserted",[E]),Z.position(),I.on(S,v),E.on("selectstart mousedown",o).on("click",".dwb-e",o).on("keydown",".dwb-e",function(b){32==b.keyCode&&(b.preventDefault(),b.stopPropagation(),a(this).click())}).on("keydown",function(b){if(32==b.keyCode)b.preventDefault();else if(9==b.keyCode&&P&&U.focusTrap){var c=E.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),d=c.index(a(":focus",E)),e=c.length-1,f=0;b.shiftKey&&(e=0,f=-1),d===e&&(c.eq(f).focus(),b.preventDefault())}}),a("input,select,textarea",E).on("selectstart mousedown",function(a){a.stopPropagation()}).on("keydown",function(a){32==a.keyCode&&a.stopPropagation()}),a.each(K,function(b,c){Z.tap(a(".dwb"+b,E),function(a){c=l(c)?Z.buttons[c]:c,(l(c.handler)?Z.handlers[c.handler]:c.handler).call(this,a,Z)},!0)}),U.closeOnOverlay&&Z.tap(F,function(){Z.cancel()}),P&&!M&&(e||H.focus(),Z.ariaMessage(U.ariaMessage)),E.on("touchstart mousedown pointerdown",".dwb-e",r).on("touchend",".dwb-e",s),Z._attachEvents(E),N("onShow",[E,Z._tempValue])}},Z.hide=function(c,d,e,f){return!Z._isVisible||!e&&!Z._isValid&&"set"==d||!e&&!1===N("onBeforeClose",[Z._tempValue,d])?!1:(E&&("Moz"!==i&&a(".dwtd",C).each(function(){a(this).prop("disabled",!1).removeClass("dwtd")}),j&&P&&M&&!c&&!E.hasClass("dw-trans")?E.addClass("dw-out dw-trans").find(".dw").addClass("dw-"+M).on("webkitAnimationEnd animationend",function(){u(c)}):u(c),I.off(S,v).off("focusin",w)),P&&(C.removeClass("mbsc-fr-lock"),a(b).off("keydown",t),delete g.activeInstance),f&&f(),N("onClosed",[Z._value]),void 0)},Z.ariaMessage=function(a){B.html(""),setTimeout(function(){B.html(a)},100)},Z.isVisible=function(){return Z._isVisible},Z.setVal=n,Z.getVal=n,Z._generateContent=n,Z._attachEvents=n,Z._readValue=n,Z._fillValue=n,Z._markupReady=n,Z._markupInserted=n,Z._markupRemove=n,Z._processSettings=n,Z._presetLoad=function(a){a.buttons=a.buttons||("inline"!==a.display?["set","cancel"]:[]),a.headerText=a.headerText===d?"inline"!==a.display?"{value}":!1:a.headerText},Z.destroy=function(){Z.hide(!0,!1,!0),a.each(_,function(a,b){b.el.off(".dw").prop("readonly",b.readOnly)}),Z._destroy()},Z.init=function(c){c.onClose&&(c.onBeforeClose=c.onClose),Z._init(c),Z._isLiquid="liquid"===(U.layout||(/top|bottom/.test(U.display)?"liquid":"")),Z._processSettings(),$.off(".dw"),K=U.buttons||[],P="inline"!==U.display,W=U.showOnFocus||U.showOnTap,I=a("body"==U.context?b:U.context),C=a(U.context),Z.context=I,Z.live=!0,a.each(K,function(a,b){return"ok"==b||"set"==b||"set"==b.handler?Z.live=!1:void 0}),Z.buttons.set={text:U.setText,handler:"set"},Z.buttons.cancel={text:Z.live?U.closeText:U.cancelText,handler:"cancel"},Z.buttons.clear={text:U.clearText,handler:"clear"},Z._isInput=$.is("input"),O=0<K.length,Z._isVisible&&Z.hide(!0,!1,!0),N("onInit",[]),P?(Z._readValue(),Z._hasContent||Z.attachShow($)):Z.show(),$.on("change.dw",function(){Z._preventChange||Z.setVal($.val(),!0,!1),Z._preventChange=!1})},Z.buttons={},Z.handlers={set:Z.select,cancel:Z.cancel,clear:Z.clear},Z._value=null,Z._isValid=!0,Z._isVisible=!1,U=Z.settings,N=Z.trigger,q||Z.init(p)},g.classes.Frame.prototype._defaults={lang:"en",setText:"确定",selectedText:"{count} 个已选",closeText:"关闭",cancelText:"取消",clearText:"清空",disabled:!1,closeOnOverlay:!0,showOnFocus:!1,showOnTap:!0,display:"modal",scrollLock:!0,tap:!0,btnClass:"dwb",btnWidth:!0,focusTrap:!0,focusOnClose:!h},g.themes.frame.mobiscroll={rows:5,showLabel:!1,headerText:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,dateOrder:"yyMMdd",weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"},a(b).on("focus",function(){e&&(f=!0)})}(jQuery,window,document),function(a,b,c,d){var b=a.mobiscroll,e=b.classes,f=b.util,g=f.jsPrefix,h=f.has3d,i=f.hasFlex,j=f.getCoord,k=f.constrain,l=f.testTouch;b.presetShort("scroller","Scroller",!1),e.Scroller=function(b,m,n){function o(b){!l(b,this)||$||S||K||x(this)||!a.mobiscroll.running||(b.preventDefault(),b.stopPropagation(),L="clickpick"!=P.mode,$=a(".dw-ul",this),z($),X=(T=eb[_]!==d)?Math.round(-f.getPosition($,!0)/M):fb[_],U=j(b,"Y"),V=new Date,W=U,C($,_,X,.001),L&&$.closest(".dwwl").addClass("dwa"),"mousedown"!==b.type)||a(c).on("mousemove",p).on("mouseup",q)}function p(a){$&&L&&(a.preventDefault(),a.stopPropagation(),W=j(a,"Y"),3<Math.abs(W-U)||T)&&(C($,_,k(X+(U-W)/M,Y-1,Z+1)),T=!0)}function q(b){var g,d,e,f,i,j;if($){if(d=new Date-V,e=k(Math.round(X+(U-W)/M),Y-1,Z+1),f=e,i=$.offset().top,b.stopPropagation(),"mouseup"===b.type&&a(c).off("mousemove",p).off("mouseup",q),h&&300>d?(g=(W-U)/d,d=g*g/P.speedUnit,0>W-U&&(d=-d)):d=W-U,T)f=k(Math.round(X-d/M),Y,Z),d=g?Math.max(.1,Math.abs((f-e)/g)*P.timeUnit):.1;else if(e=Math.floor((W-i)/M),j=a(a(".dw-li",$)[e]),g=j.hasClass("dw-v"),i=L,d=.1,!1!==R("onValueTap",[j])&&g?f=e:i=!0,i&&g&&(j.addClass("dw-hl"),setTimeout(function(){j.removeClass("dw-hl")},100)),!N&&(!0===P.confirmOnTap||P.confirmOnTap[_])&&j.hasClass("dw-sel"))return cb.select(),$=!1,void 0;L&&F($,_,f,0,d,!0),$=!1}}function r(b){K=a(this),l(b,this)&&a.mobiscroll.running&&w(b,K.closest(".dwwl"),K.hasClass("dwwbp")?G:H),"mousedown"===b.type&&a(c).on("mouseup",s)}function s(b){K=null,S&&(clearInterval(bb),S=!1),"mouseup"===b.type&&a(c).off("mouseup",s)}function t(b){38==b.keyCode?w(b,a(this),H):40==b.keyCode&&w(b,a(this),G)}function u(){S&&(clearInterval(bb),S=!1)}function v(b){if(!x(this)&&a.mobiscroll.running){b.preventDefault();var b=b.originalEvent||b,c=b.deltaY||b.wheelDelta||b.detail,d=a(".dw-ul",this);z(d),C(d,_,k(((0>c?-20:20)-O[_])/M,Y-1,Z+1)),clearTimeout(Q),Q=setTimeout(function(){F(d,_,Math.round(fb[_]),c>0?1:2,.1)},200)}}function w(a,b,c){if(a.stopPropagation(),a.preventDefault(),!S&&!x(b)&&!b.hasClass("dwa")){S=!0;var d=b.find(".dw-ul");z(d),clearInterval(bb),bb=setInterval(function(){c(d)},P.delay),c(d)}}function x(b){return a.isArray(P.readonly)?(b=a(".dwwl",J).index(b),P.readonly[b]):P.readonly}function y(b){var c='<div class="dw-bf">',b=gb[b],d=1,e=b.labels||[],f=b.values||[],g=b.keys||f;return a.each(f,function(a,b){0===d%20&&(c+='</div><div class="dw-bf">'),c+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+g[a]+'"'+(e[a]?' aria-label="'+e[a]+'"':"")+' style="height:'+M+"px;line-height:"+M+'px;"><div class="dw-i"'+(ab>1?' style="line-height:'+Math.round(M/ab)+"px;font-size:"+Math.round(.8*(M/ab))+'px;"':"")+">"+b+"</div></div>",d++}),c+="</div>"}function z(b){N=b.closest(".dwwl").hasClass("dwwms"),Y=a(".dw-li",b).index(a(N?".dw-li":".dw-v",b).eq(0)),Z=Math.max(Y,a(".dw-li",b).index(a(N?".dw-li":".dw-v",b).eq(-1))-(N?P.rows-("scroller"==P.mode?1:3):0)),_=a(".dw-ul",J).index(b)}function A(a){var c=P.headerText;return c?"function"==typeof c?c.call(b,a):c.replace(/\{value\}/i,a):""}function B(a,b){clearTimeout(eb[b]),delete eb[b],a.closest(".dwwl").removeClass("dwa")}function C(a,b,c,d,e){var i=-c*M,j=a[0].style;i==O[b]&&eb[b]||(O[b]=i,h?(j[g+"Transition"]=f.prefix+"transform "+(d?d.toFixed(3):0)+"s ease-out",j[g+"Transform"]="translate3d(0,"+i+"px,0)"):j.top=i+"px",eb[b]&&B(a,b),d&&e&&(a.closest(".dwwl").addClass("dwa"),eb[b]=setTimeout(function(){B(a,b)},1e3*d)),fb[b]=c)}function D(b,c,d,e,f){var i,j,l,m,g=a('.dw-li[data-val="'+b+'"]',c),h=a(".dw-li",c);if(b=h.index(g),i=h.length,e)z(c);else if(!g.hasClass("dw-v")){for(j=g,l=0,m=0;b-l>=0&&!j.hasClass("dw-v");)l++,j=h.eq(b-l);for(;i>b+m&&!g.hasClass("dw-v");)m++,g=h.eq(b+m);(l>m&&m&&2!==d||!l||0>b-l||1==d)&&g.hasClass("dw-v")?b+=m:(g=j,b-=l)}return d=g.hasClass("dw-sel"),f&&(e||(a(".dw-sel",c).removeAttr("aria-selected"),g.attr("aria-selected","true")),a(".dw-sel",c).removeClass("dw-sel"),g.addClass("dw-sel")),{selected:d,v:e?k(b,Y,Z):b,val:g.hasClass("dw-v")||e?g.attr("data-val"):null}}function E(b,c,e,f,g){!1!==R("validate",[J,c,b,f])&&(a(".dw-ul",J).each(function(e){var h=a(this),i=h.closest(".dwwl").hasClass("dwwms"),j=e==c||c===d,i=D(cb._tempWheelArray[e],h,f,i,!0);(!i.selected||j)&&(cb._tempWheelArray[e]=i.val,C(h,e,i.v,j?b:.1,j?g:!1))}),R("onValidated",[c]),cb._tempValue=P.formatValue(cb._tempWheelArray,cb),cb.live&&(cb._hasValue=e||cb._hasValue,I(e,e,0,!0)),cb._header.html(A(cb._tempValue)),e&&R("onChange",[cb._tempValue]))}function F(b,c,d,e,f,g){d=k(d,Y,Z),cb._tempWheelArray[c]=a(".dw-li",b).eq(d).attr("data-val"),C(b,c,d,f,g),setTimeout(function(){E(f,c,!0,e,g)},10)}function G(a){var b=fb[_]+1;F(a,_,b>Z?Y:b,1,.1)}function H(a){var b=fb[_]-1;F(a,_,Y>b?Z:b,2,.1)}function I(a,b,c,d,e){cb._isVisible&&!d&&E(c),cb._tempValue=P.formatValue(cb._tempWheelArray,cb),e||(cb._wheelArray=cb._tempWheelArray.slice(0),cb._value=cb._hasValue?cb._tempValue:null),a&&(R("onValueFill",[cb._hasValue?cb._tempValue:"",b]),cb._isInput&&db.val(cb._hasValue?cb._tempValue:""),b&&(cb._preventChange=!0,db.change()))}var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb=this,db=a(b),eb={},fb={},gb=[];e.Frame.call(this,b,m,!0),cb.setVal=cb._setVal=function(c,e,f,g,h){cb._hasValue=null!==c&&c!==d,cb._tempWheelArray=a.isArray(c)?c.slice(0):P.parseValue.call(b,c,cb)||[],I(e,f===d?e:f,h,!1,g)},cb.getVal=cb._getVal=function(a){return a=cb._hasValue||a?cb[a?"_tempValue":"_value"]:null,f.isNumeric(a)?+a:a},cb.setArrayVal=cb.setVal,cb.getArrayVal=function(a){return a?cb._tempWheelArray:cb._wheelArray},cb.setValue=function(a,b,c,d,e){cb.setVal(a,b,e,d,c)},cb.getValue=cb.getArrayVal,cb.changeWheel=function(b,c,e){if(J){var f=0,g=b.length;a.each(P.wheels,function(h,i){return a.each(i,function(h,i){return-1<a.inArray(f,b)&&(gb[f]=i,a(".dw-ul",J).eq(f).html(y(f)),g--,!g)?(cb.position(),E(c,d,e),!1):(f++,void 0)}),g?void 0:!1})}},cb.getValidCell=D,cb.scroll=C,cb._generateContent=function(){var b,c="",e=0;return a.each(P.wheels,function(f,g){c+='<div class="mbsc-w-p dwc'+("scroller"!=P.mode?" dwpm":" dwsc")+(P.showLabel?"":" dwhl")+'"><div class="dwwc"'+(P.maxWidth?"":' style="max-width:600px;"')+">"+(i?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>'),a.each(g,function(a,f){gb[e]=f,b=f.label!==d?f.label:a,c+="<"+(i?"div":"td")+' class="dwfl" style="'+(P.fixedWidth?"width:"+(P.fixedWidth[e]||P.fixedWidth)+"px;":(P.minWidth?"min-width:"+(P.minWidth[e]||P.minWidth)+"px;":"min-width:"+P.width+"px;")+(P.maxWidth?"max-width:"+(P.maxWidth[e]||P.maxWidth)+"px;":""))+'"><div class="dwwl dwwl'+e+(f.multiple?" dwwms":"")+'">'+("scroller"!=P.mode?'<div class="dwb-e dwwb dwwbp '+(P.btnPlusClass||"")+'" style="height:'+M+"px;line-height:"+M+'px;"><span>+</span></div><div class="dwb-e dwwb dwwbm '+(P.btnMinusClass||"")+'" style="height:'+M+"px;line-height:"+M+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+b+'</div><div tabindex="0" aria-live="off" aria-label="'+b+'" role="listbox" class="dwww"><div class="dww" style="height:'+P.rows*M+'px;"><div class="dw-ul" style="margin-top:'+(f.multiple?"scroller"==P.mode?0:M:P.rows/2*M-M/2)+'px;">',c+=y(e)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+(P.selectedLineHeight?' style="height:'+M+"px;margin-top:-"+(M/2+(P.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(i?"</div>":"</td>"),e++}),c+=(i?"":"</tr></table>")+"</div></div>"}),c},cb._attachEvents=function(a){a.on("keydown",".dwwl",t).on("keyup",".dwwl",u).on("touchstart mousedown",".dwwl",o).on("touchmove",".dwwl",p).on("touchend",".dwwl",q).on("touchstart mousedown",".dwwb",r).on("touchend touchcancel",".dwwb",s),P.mousewheel&&a.on("wheel mousewheel",".dwwl",v)},cb._markupReady=function(a){J=a,O={},E()},cb._fillValue=function(){cb._hasValue=!0,I(!0,!0,0,!0)},cb._readValue=function(){var a=db.val()||"";""!==a&&(cb._hasValue=!0),cb._tempWheelArray=cb._hasValue&&cb._wheelArray?cb._wheelArray.slice(0):P.parseValue.call(b,a,cb)||[],I()},cb._processSettings=function(){P=cb.settings,R=cb.trigger,M=P.height,ab=P.multiline,cb._isLiquid="liquid"===(P.layout||(/top|bottom/.test(P.display)&&1==P.wheels.length?"liquid":"")),P.formatResult&&(P.formatValue=P.formatResult),ab>1&&(P.cssClass=(P.cssClass||"")+" dw-ml"),"scroller"!=P.mode&&(P.rows=Math.max(3,P.rows))},cb._selectedValues={},n||cb.init(m)},e.Scroller.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:a.extend({},e.Frame.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,confirmOnTap:!0,wheels:[],mode:"scroller",preset:"",speedUnit:.0012,timeUnit:.08,formatValue:function(a){return a.join(" ")},parseValue:function(b,c){var h,i,e=[],f=[],g=0;return null!==b&&b!==d&&(e=(b+"").split(" ")),a.each(c.settings.wheels,function(b,c){a.each(c,function(b,c){i=c.keys||c.values,h=i[0],a.each(i,function(a,b){return e[g]==b?(h=b,!1):void 0}),f.push(h),g++})}),f}})},b.themes.scroller=b.themes.frame}(jQuery,window,document),function(a){var b=a.mobiscroll;b.datetime={defaults:{shortYearCutoff:"+10",monthNames:"01,02,03,04,05,06,07,08,09,10,11,12".split(","),monthNamesShort:"1,2,3,4,5,6,7,8,9,10,11,12".split(","),dayNames:"日,一,二,三,四,五,六".split(","),dayNamesShort:"日,一,二,三,四,五,六".split(","),dayNamesMin:"日,一,二,三,四,五,六".split(","),amText:"上午",pmText:"下午",getYear:function(a){return a.getFullYear()},getMonth:function(a){return a.getMonth()},getDay:function(a){return a.getDate()},getDate:function(a,b,c,d,e,f,g){return new Date(a,b,c,d||0,e||0,f||0,g||0)},getMaxDayOfMonth:function(a,b){return 32-new Date(a,b,32).getDate()},getWeekNumber:function(a){a=new Date(a),a.setHours(0,0,0),a.setDate(a.getDate()+4-(a.getDay()||7));var b=new Date(a.getFullYear(),0,1);return Math.ceil(((a-b)/864e5+1)/7)}},formatDate:function(c,d,e){if(!d)return null;var i,j,e=a.extend({},b.datetime.defaults,e),f=function(a){for(var b=0;i+1<c.length&&c.charAt(i+1)==a;)b++,i++;return b},g=function(a,b,c){if(b=""+b,f(a))for(;b.length<c;)b="0"+b;return b},h=function(a,b,c,d){return f(a)?d[b]:c[b]},k="",l=!1;for(i=0;i<c.length;i++)if(l)"'"!=c.charAt(i)||f("'")?k+=c.charAt(i):l=!1;else switch(c.charAt(i)){case"d":k+=g("d",e.getDay(d),2);break;case"D":k+=h("D",d.getDay(),e.dayNamesShort,e.dayNames);break;case"o":k+=g("o",(d.getTime()-new Date(d.getFullYear(),0,0).getTime())/864e5,3);break;case"m":k+=g("m",e.getMonth(d)+1,2);break;case"M":k+=h("M",e.getMonth(d),e.monthNamesShort,e.monthNames);break;case"y":j=e.getYear(d),k+=f("y")?j:(10>j%100?"0":"")+j%100;break;case"h":j=d.getHours(),k+=g("h",j>12?j-12:0===j?12:j,2);break;case"H":k+=g("H",d.getHours(),2);break;case"i":k+=g("i",d.getMinutes(),2);break;case"s":k+=g("s",d.getSeconds(),2);break;case"a":k+=11<d.getHours()?e.pmText:e.amText;break;case"A":k+=11<d.getHours()?e.pmText.toUpperCase():e.amText.toUpperCase();break;case"'":f("'")?k+="'":l=!0;break;default:k+=c.charAt(i)}return k},parseDate:function(c,d,e){var f,u,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(e=a.extend({},b.datetime.defaults,e),f=e.defaultValue||new Date,!c||!d)return f;if(d.getTime)return d;for(d="object"==typeof d?d.toString():d+"",g=e.shortYearCutoff,h=e.getYear(f),i=e.getMonth(f)+1,j=e.getDay(f),k=-1,l=f.getHours(),m=f.getMinutes(),n=0,o=-1,p=!1,q=function(a){return(a=u+1<c.length&&c.charAt(u+1)==a)&&u++,a},r=function(a){return q(a),(a=d.substr(t).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2)+"}")))?(t+=a[0].length,parseInt(a[0],10)):0},s=function(a,b,c){for(a=q(a)?c:b,b=0;b<a.length;b++)if(d.substr(t,a[b].length).toLowerCase()==a[b].toLowerCase())return t+=a[b].length,b+1;return 0},t=0,u=0;u<c.length;u++)if(p)"'"!=c.charAt(u)||q("'")?t++:p=!1;else switch(c.charAt(u)){case"d":j=r("d");break;case"D":s("D",e.dayNamesShort,e.dayNames);break;case"o":k=r("o");break;case"m":i=r("m");break;case"M":i=s("M",e.monthNamesShort,e.monthNames);break;case"y":h=r("y");break;case"H":l=r("H");break;case"h":l=r("h");break;case"i":m=r("i");break;case"s":n=r("s");break;case"a":o=s("a",[e.amText,e.pmText],[e.amText,e.pmText])-1;break;case"A":o=s("A",[e.amText,e.pmText],[e.amText,e.pmText])-1;break;case"'":q("'")?t++:p=!0;break;default:t++}if(100>h&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=("string"!=typeof g?g:(new Date).getFullYear()%100+parseInt(g,10))?0:-100)),k>-1)for(i=1,j=k;;){if(g=32-new Date(h,i-1,32).getDate(),g>=j)break;i++,j-=g}return l=e.getDate(h,i-1,j,-1==o?l:o&&12>l?l+12:o||12!=l?l:0,m,n),e.getYear(l)!=h||e.getMonth(l)+1!=i||e.getDay(l)!=j?f:l}},b.formatDate=b.datetime.formatDate,b.parseDate=b.datetime.parseDate}(jQuery),function(a,b,c,d){var e=a.mobiscroll,f=e.presets.scroller,g=e.util,h=g.has3d,i=g.jsPrefix,j=g.testTouch,k={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,highlightNow:!0,swipe:!0,liveSwipe:!0,divergentDayChange:!0,quickNav:!0,navigation:"yearMonth",todayClass:"dw-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};f.calbase=function(b){function l(b,c,d){var e,f,g,h,i={},j=Yb+zb;return b&&a.each(b,function(a,b){if(e=b.d||b.start||b,f=e+"",b.start&&b.end)for(h=new Date(b.start);h<=b.end;)g=new Date(h.getFullYear(),h.getMonth(),h.getDate()),i[g]=i[g]||[],i[g].push(b),h.setDate(h.getDate()+1);else if(e.getTime)g=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i[g]=i[g]||[],i[g].push(b);else if(f.match(/w/i)){var k=+f.replace("w",""),l=0,m=Nb.getDate(c,d-Yb-Ab,1).getDay();for(1<Nb.firstDay-m+1&&(l=7),J=0;5*yb>J;J++)g=Nb.getDate(c,d-Yb-Ab,7*J-l-m+1+k),i[g]=i[g]||[],i[g].push(b)}else if(f=f.split("/"),f[1])d+j>=11&&(g=Nb.getDate(c+1,f[0]-1,f[1]),i[g]=i[g]||[],i[g].push(b)),1>=d-j&&(g=Nb.getDate(c-1,f[0]-1,f[1]),i[g]=i[g]||[],i[g].push(b)),g=Nb.getDate(c,f[0]-1,f[1]),i[g]=i[g]||[],i[g].push(b);else for(J=0;yb>J;J++)g=Nb.getDate(c,d-Yb-Ab+J,f[0]),Nb.getDay(g)==f[0]&&(i[g]=i[g]||[],i[g].push(b))}),i}function m(a,c){sb=l(Nb.invalid,a,c),rb=l(Nb.valid,a,c),b.onGenMonth(a,c)}function n(a,b,c,d,e,f,g){var h='<div class="dw-cal-h dw-cal-sc-c dw-cal-'+a+"-c "+(Nb.calendarClass||"")+'"><div class="dw-cal-sc"><div class="dw-cal-sc-p"><div class="dw-cal-sc-tbl"><div class="dw-cal-sc-row">';for(I=1;b>=I;I++)h=12>=I||I>c?h+'<div class="dw-cal-sc-m-cell dw-cal-sc-cell dw-cal-sc-empty"><div class="dw-i">&nbsp;</div></div>':h+('<div tabindex="0" role="button"'+(f?' aria-label="'+f[I-13]+'"':"")+' class="dwb-e dwb-nhl dw-cal-sc-m-cell dw-cal-sc-cell dw-cal-'+a+'-s" data-val='+(d+I-13)+'><div class="dw-i dw-cal-sc-tbl"><div class="dw-cal-sc-cell">'+(g?g[I-13]:d+I-13+e)+"</div></div></div>"),b>I&&(0===I%12?h+='</div></div></div><div class="dw-cal-sc-p" style="'+(Wb?"top":Tb?"right":"left")+":"+100*Math.round(I/12)+'%"><div class="dw-cal-sc-tbl"><div class="dw-cal-sc-row">':0===I%3&&(h+='</div><div class="dw-cal-sc-row">'));return h+"</div></div></div></div></div>"}function o(c,e){var g,h,i,j,k,l,m,n,o,p,q,r,s,t=1,u=0,f=Nb.getDate(c,e,1),v=Nb.getYear(f),w=Nb.getMonth(f),x=null!==Nb.defaultValue||b._hasValue?b.getDate(!0):null,y=Nb.getDate(v,w,1).getDay(),z='<div class="dw-cal-table">',A='<div class="dw-week-nr-c">';for(1<Nb.firstDay-y+1&&(u=7),s=0;42>s;s++)r=s+Nb.firstDay-u,f=Nb.getDate(v,w,r-y+1),g=f.getFullYear(),h=f.getMonth(),i=f.getDate(),j=Nb.getMonth(f),k=Nb.getDay(f),q=Nb.getMaxDayOfMonth(g,h),l=g+"-"+h+"-"+i,h=a.extend({valid:f<new Date(kb.getFullYear(),kb.getMonth(),kb.getDate())||f>lb?!1:sb[f]===d||rb[f]!==d,selected:x&&x.getFullYear()===g&&x.getMonth()===h&&x.getDate()===i},b.getDayProps(f,x)),m=h.valid,n=h.selected,g=h.cssClass,o=f.getTime()===(new Date).setHours(0,0,0,0),p=j!==w,Kb[l]=h,0===s%7&&(z+=(s?"</div>":"")+'<div class="dw-cal-row'+(Nb.highlight&&x&&x-f>=0&&6048e5>x-f?" dw-cal-week-hl":"")+'">'),Pb&&1==f.getDay()&&("month"==Pb&&p&&t>1?t=1==i?1:2:"year"==Pb&&(t=Nb.getWeekNumber(f)),A+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+t+"</div></div>",t++),z+='<div role="button" tabindex="-1" aria-label="'+(o?Nb.todayText+", ":"")+Nb.dayNames[f.getDay()]+", "+Nb.monthNames[j]+" "+k+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(p&&!Bb?' aria-hidden="true"':"")+(n?' aria-selected="true"':"")+(m?"":' aria-disabled="true"')+' data-day="'+r%7+'" data-full="'+l+'"class="dw-cal-day '+(Nb.dayClass||"")+(n?" dw-sel":"")+(o?" "+Nb.todayClass:"")+(g?" "+g:"")+(1==k?" dw-cal-day-first":"")+(k==q?" dw-cal-day-last":"")+(p?" dw-cal-day-diff":"")+(m?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'"><div class="dw-i '+(n?cc:"")+" "+(Nb.innerDayClass||"")+'"><div class="dw-cal-day-fg">'+k+"</div>"+(h.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return z+("</div></div>"+A+"</div>")}function p(b,c,d){var e=Nb.getDate(b,c,1),f=Nb.getYear(e),e=Nb.getMonth(e),g=f+bc;if(Xb){if(Db&&Db.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(cc),Eb&&Eb.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(cc),Db=a('.dw-cal-year-s[data-val="'+f+'"]',M).addClass("dw-sel").attr("aria-selected","true"),Eb=a('.dw-cal-month-s[data-val="'+e+'"]',M).addClass("dw-sel").attr("aria-selected","true"),Db.find(".dw-i").addClass(cc),Eb.find(".dw-i").addClass(cc),Cb&&Cb.scroll(Db,d),a(".dw-cal-month-s",M).removeClass("dwb-d"),f===eb)for(I=0;gb>I;I++)a('.dw-cal-month-s[data-val="'+I+'"]',M).addClass("dwb-d");
if(f===fb)for(I=hb+1;12>=I;I++)a('.dw-cal-month-s[data-val="'+I+'"]',M).addClass("dwb-d")}for(1==cb.length&&cb.attr("aria-label",f).html(g),I=0;xb>I;++I)e=Nb.getDate(b,c-Ab+I,1),f=Nb.getYear(e),e=Nb.getMonth(e),g=f+bc,a(ab[I]).attr("aria-label",Nb.monthNames[e]+(Zb?"":" "+f)).html((!Zb&&bb>db?g+" ":"")+Z[e]+(!Zb&&db>bb?" "+g:"")),1<cb.length&&a(cb[I]).html(g);Nb.getDate(b,c-Ab-1,1)<ib?r(a(".dw-cal-prev-m",M)):q(a(".dw-cal-prev-m",M)),Nb.getDate(b,c+xb-Ab,1)>jb?r(a(".dw-cal-next-m",M)):q(a(".dw-cal-next-m",M)),Nb.getDate(b,c,1).getFullYear()<=ib.getFullYear()?r(a(".dw-cal-prev-y",M)):q(a(".dw-cal-prev-y",M)),Nb.getDate(b,c,1).getFullYear()>=jb.getFullYear()?r(a(".dw-cal-next-y",M)):q(a(".dw-cal-next-y",M))}function q(a){a.removeClass(fc).find(".dw-cal-btn-txt").removeAttr("aria-disabled")}function r(a){a.addClass(fc).find(".dw-cal-btn-txt").attr("aria-disabled","true")}function s(c,d){if(T&&("calendar"===ub||d)){var e,f,g=Nb.getDate(nb,ob,1),h=Math.abs(12*(Nb.getYear(c)-Nb.getYear(g))+Nb.getMonth(c)-Nb.getMonth(g));b.needsSlide&&h&&(nb=Nb.getYear(c),ob=Nb.getMonth(c),c>g?(f=h>Yb-Ab+xb-1,ob-=f?0:h-Yb,e="next"):g>c&&(f=h>Yb+Ab,ob+=f?0:h-Yb,e="prev"),w(nb,ob,e,Math.min(h,Yb),f,!0)),d||(b.trigger("onDayHighlight",[c]),Nb.highlight&&(a(".dw-sel .dw-i",O).removeClass(cc),a(".dw-sel",O).removeClass("dw-sel").removeAttr("aria-selected"),a(".dw-cal-week-hl",O).removeClass("dw-cal-week-hl"),(null!==Nb.defaultValue||b._hasValue)&&a('.dw-cal-day[data-full="'+c.getFullYear()+"-"+c.getMonth()+"-"+c.getDate()+'"]',O).addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(cc).closest(".dw-cal-row").addClass("dw-cal-week-hl"))),b.needsSlide=!0}}function t(a,c){for(m(a,c),I=0;yb>I;I++)Hb[I].html(o(a,c-Ab-Yb+I));v(),b.needsRefresh=!1,b.trigger("onMonthLoaded",[a,c])}function u(b,c,d){var e=Yb,f=Yb;if(d){for(;f&&Nb.getDate(b,c+e+xb-Ab-1,1)>jb;)f--;for(;e&&Nb.getDate(b,c-f-Ab,1)<ib;)e--}a.extend($.settings,{contSize:xb*Q,snap:Q,minScroll:R-(Tb?e:f)*Q,maxScroll:R+(Tb?f:e)*Q}),$.refresh()}function v(){Pb&&W.html(a(".dw-week-nr-c",Hb[Yb]).html()),a(".dw-cal-slide-a .dw-cal-day",P).attr("tabindex",0)}function w(c,d,e,f,g,h,i){if(c&&Ib.push({y:c,m:d,dir:e,slideNr:f,load:g,active:h,callback:i}),!vb){var j=Ib.shift(),c=j.y,d=j.m,e="next"===j.dir,f=j.slideNr,g=j.load,h=j.active,i=j.callback||Lb,j=Nb.getDate(c,d,1),c=Nb.getYear(j),d=Nb.getMonth(j);if(vb=!0,b.changing=!0,b.trigger("onMonthChange",[c,d]),m(c,d),g)for(I=0;xb>I;I++)Hb[e?yb-xb+I:I].html(o(c,d-Ab+I));h&&Gb.addClass("dw-cal-slide-a"),setTimeout(function(){b.ariaMessage(Nb.monthNames[d]+" "+c),p(c,d,200),R=e?R-Q*f*Ub:R+Q*f*Ub,$.scroll(R,Y?200:0,function(){setTimeout(function(){var h;if(Hb.length){if(Gb.removeClass("dw-cal-slide-a").attr("aria-hidden","true"),e)for(h=Hb.splice(0,f),I=0;f>I;I++)Hb.push(h[I]),y(Hb[Hb.length-1],+Hb[Hb.length-2].data("curr")+100*Ub);else for(h=Hb.splice(yb-f,f),I=f-1;I>=0;I--)Hb.unshift(h[I]),y(Hb[0],+Hb[1].data("curr")-100*Ub);for(I=0;f>I;I++)Hb[e?yb-f+I:I].html(o(c,d-Ab-Yb+I+(e?yb-f:0))),g&&Hb[e?I:yb-f+I].html(o(c,d-Ab-Yb+I+(e?0:yb-f)));for(I=0;xb>I;I++)Hb[Yb+I].addClass("dw-cal-slide-a").removeAttr("aria-hidden");u(c,d,!0),vb=!1}Ib.length?setTimeout(function(){w()},10):(nb=c,ob=d,b.changing=!1,a(".dw-cal-day",P).attr("tabindex",-1),v(),b.needsRefresh?b.isVisible()&&T&&t(nb,ob):b.trigger("onMonthLoaded",[c,d]),i())},Y?0:200)})},10)}}function x(){var c=a(this),d=b.live,e=b.getDate(!0),f=c.attr("data-full"),g=f.split("-"),g=new Date(g[0],g[1],g[2]),e=new Date(g.getFullYear(),g.getMonth(),g.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),h=c.hasClass("dw-sel");!Bb&&c.hasClass("dw-cal-day-diff")||!1===b.trigger("onDayChange",[a.extend(Kb[f],{date:e,cell:this,selected:h})])||(b.needsSlide=!1,S=!0,b.setDate(e,d,.2,!d,!0),Nb.divergentDayChange&&(wb=!0,g<Nb.getDate(nb,ob-Ab,1)?A():g>Nb.getDate(nb,ob-Ab+xb,0)&&z(),wb=!1))}function y(a,b){a.data("curr",b),h?a[0].style[i+"Transform"]="translate3d("+(Wb?"0,"+b+"%,":b+"%,0,")+"0)":a[0].style[Wb?"top":"left"]=b+"%"}function z(){wb&&Nb.getDate(nb,ob+xb-Ab,1)<=jb&&a.mobiscroll.running&&w(nb,++ob,"next",1,!1,!0,z)}function A(){wb&&Nb.getDate(nb,ob-Ab-1,1)>=ib&&a.mobiscroll.running&&w(nb,--ob,"prev",1,!1,!0,A)}function B(b){wb&&Nb.getDate(nb,ob,1)<=Nb.getDate(Nb.getYear(jb)-1,Nb.getMonth(jb)-zb,1)&&a.mobiscroll.running?w(++nb,ob,"next",Yb,!0,!0,function(){B(b)}):wb&&!b.hasClass("dwb-d")&&a.mobiscroll.running&&w(Nb.getYear(jb),Nb.getMonth(jb)-zb,"next",Yb,!0,!0)}function C(b){wb&&Nb.getDate(nb,ob,1)>=Nb.getDate(Nb.getYear(ib)+1,Nb.getMonth(ib)+Ab,1)&&a.mobiscroll.running?w(--nb,ob,"prev",Yb,!0,!0,function(){C(b)}):wb&&!b.hasClass("dwb-d")&&a.mobiscroll.running&&w(Nb.getYear(ib),Nb.getMonth(ib)+Ab,"prev",Yb,!0,!0)}function D(a,c){a.hasClass("dw-cal-v")||(a.addClass("dw-cal-v"+(c?"":" dw-cal-p-in")).removeClass("dw-cal-p-out dw-cal-h"),b.trigger("onSelectShow",[]))}function E(a,b){a.hasClass("dw-cal-v")&&a.removeClass("dw-cal-v dw-cal-p-in").addClass("dw-cal-h"+(b?"":" dw-cal-p-out"))}function F(a,b){(b||a).hasClass("dw-cal-v")?E(a):D(a)}function G(){a(this).removeClass("dw-cal-p-out dw-cal-p-in")}var H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb=this,Gb=[],Hb=[],Ib=[],Jb={},Kb={},Lb=function(){},Mb=a.extend({},b.settings),Nb=a.extend(b.settings,k,Mb),Ob="full"==Nb.weekDays?"":"min"==Nb.weekDays?"Min":"Short",Pb=Nb.weekCounter,Qb=Nb.layout||(/top|bottom/.test(Nb.display)?"liquid":""),Rb="liquid"==Qb&&"bubble"!==Nb.display,Sb="modal"==Nb.display,Tb=Nb.rtl,Ub=Tb?-1:1,Vb=Rb?null:Nb.calendarWidth,Wb="vertical"==Nb.swipeDirection,Xb=Nb.quickNav,Yb=Nb.preMonths,Zb="yearMonth"==Nb.navigation,$b=Nb.controls.join(","),_b=(!0===Nb.tabs||!1!==Nb.tabs&&Rb)&&1<Nb.controls.length,ac=!_b&&Nb.tabs===d&&!Rb&&1<Nb.controls.length,bc=Nb.yearSuffix||"",cc=Nb.activeClass||"",dc="dw-sel "+(Nb.activeTabClass||""),ec=Nb.activeTabInnerClass||"",fc="dwb-d "+(Nb.disabledClass||""),gc="",hc="";return $b.match(/calendar/)?T=!0:Xb=!1,$b.match(/date/)&&(Jb.date=1),$b.match(/time/)&&(Jb.time=1),T&&Jb.date&&(_b=!0,ac=!1),Nb.layout=Qb,Nb.preset=(Jb.date||T?"date":"")+(Jb.time?"time":""),"inline"==Nb.display&&a(this).closest('[data-role="page"]').on("pageshow",function(){b.position()}),b.changing=!1,b.needsRefresh=!1,b.needsSlide=!0,b.getDayProps=Lb,b.onGenMonth=Lb,b.prepareObj=l,b.refresh=function(){b.changing?b.needsRefresh=!0:b.isVisible()&&T&&t(nb,ob)},b.navigate=function(a,c){var d,e,f=b.isVisible();c&&f?s(a,!0):(d=Nb.getYear(a),e=Nb.getMonth(a),!f||d==nb&&e==ob||(b.trigger("onMonthChange",[d,e]),p(d,e),t(d,e)),nb=d,ob=e)},b.showMonthView=function(){Xb&&!Y&&(E(hc,!0),E(gc,!0),D(X,!0),Y=!0)},b.changeTab=function(c){b._isVisible&&Jb[c]&&ub!=c&&(ub=c,a(".dw-cal-pnl",M).removeClass("dw-cal-p-in").addClass("dw-cal-pnl-h"),a(".dw-cal-tab",M).removeClass(dc).removeAttr("aria-selected").find(".dw-i").removeClass(ec),a('.dw-cal-tab[data-control="'+c+'"]',M).addClass(dc).attr("aria-selected","true").find(".dw-i").addClass(ec),Jb[ub].removeClass("dw-cal-pnl-h").addClass("dw-cal-p-in"),"calendar"===ub?(H=b.getDate(!0),(H.getFullYear()!==mb.getFullYear()||H.getMonth()!==mb.getMonth()||H.getDate()!==mb.getDate())&&s(H)):(mb=b.getDate(!0),b.setDate(mb,!1,0,!0)),b.showMonthView(),b.trigger("onTabChange",[ub]))},K=f.datetime.call(this,b),bb=Nb.dateOrder.search(/m/i),db=Nb.dateOrder.search(/y/i),a.extend(K,{ariaMessage:Nb.calendarText,onMarkupReady:function(f){var i,k,l="";if(M=f,N="inline"==Nb.display?a(this).is("div")?a(this):a(this).parent():b.context,mb=b.getDate(!0),nb||(nb=Nb.getYear(mb),ob=Nb.getMonth(mb)),R=0,V=!0,vb=!1,Z=Nb.monthNames,ub="calendar",Nb.minDate?(ib=new Date(Nb.minDate.getFullYear(),Nb.minDate.getMonth(),1),kb=Nb.minDate):kb=ib=new Date(Nb.startYear,0,1),Nb.maxDate?(jb=new Date(Nb.maxDate.getFullYear(),Nb.maxDate.getMonth(),1),lb=Nb.maxDate):lb=jb=new Date(Nb.endYear,11,31,23,59,59),f.addClass("dw-calendar"+(h?"":" dw-cal-no3d")),L=a(".dw",f),tb=a(".dwcc",f),Jb.date?Jb.date=a(".dwc",M).eq(0):T&&a(".dwc",M).eq(0).addClass("dwc-hh"),Jb.time&&(Jb.time=a(".dwc",M).eq(1)),T){for(xb="auto"==Nb.months?Math.max(1,Math.min(3,Math.floor((Vb||N[0].innerWidth||N.innerWidth())/280))):Nb.months,yb=xb+2*Yb,zb=Math.floor(xb/2),Ab=Math.round(xb/2)-1,Bb=Nb.showDivergentDays===d?2>xb:Nb.showDivergentDays,Wb=Wb&&2>xb,k='<div class="dw-cal-btnw"><div class="'+(Tb?"dw-cal-next-m":"dw-cal-prev-m")+' dw-cal-prev dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(Nb.btnCalPrevClass||"")+'" aria-label="'+Nb.prevMonthText+'"></div></div>',I=0;xb>I;++I)k+='<div class="dw-cal-btnw-m" style="width: '+100/xb+'%"><span role="button" class="dw-cal-month"></span></div>';for(k+='<div class="'+(Tb?"dw-cal-prev-m":"dw-cal-next-m")+' dw-cal-next dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(Nb.btnCalNextClass||"")+'" aria-label="'+Nb.nextMonthText+'"></div></div></div>',Zb&&(l='<div class="dw-cal-btnw"><div class="'+(Tb?"dw-cal-next-y":"dw-cal-prev-y")+' dw-cal-prev dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(Nb.btnCalPrevClass||"")+'" aria-label="'+Nb.prevYearText+'"></div></div><span role="button" class="dw-cal-year"></span><div class="'+(Tb?"dw-cal-prev-y":"dw-cal-next-y")+' dw-cal-next dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(Nb.btnCalNextClass||"")+'" aria-label="'+Nb.nextYearText+'"></div></div></div>'),Xb&&(eb=Nb.getYear(ib),fb=Nb.getYear(jb),gb=Nb.getMonth(ib),hb=Nb.getMonth(jb),qb=Math.ceil((fb-eb+1)/12)+2,gc=n("month",36,24,0,"",Nb.monthNames,Nb.monthNamesShort),hc=n("year",12*qb,fb-eb+13,eb,bc)),U='<div class="mbsc-w-p dw-cal-c"><div class="dw-cal '+(xb>1?" dw-cal-multi ":"")+(Pb?" dw-weeks ":"")+(Wb?" mbsc-cal-vertical":"")+(Bb?"":" dw-hide-diff ")+(Nb.highlightNow?" dw-hl-now ":"")+(Nb.calendarClass||"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(Zb?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(bb>db||xb>1?l+k:k+l)+'</div></div><div class="dw-cal-body"><div class="dw-cal-m-c dw-cal-v"><div class="dw-cal-days-c">',J=0;xb>J;++J){for(U+='<div aria-hidden="true" class="dw-cal-days" style="width: '+100/xb+'%"><table cellpadding="0" cellspacing="0"><tr>',I=0;7>I;I++)U+="<th>"+Nb["dayNames"+Ob][(I+Nb.firstDay)%7]+"</th>";U+="</tr></table></div>"}for(U+='</div><div class="dw-cal-anim-c '+(Nb.calendarClass||"")+'"><div class="dw-week-nrs-c '+(Nb.weekNrClass||"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim">',I=0;xb+2*Yb>I;I++)U+='<div class="dw-cal-slide" aria-hidden="true"></div>';U+="</div></div></div>"+gc+hc+"</div></div></div>",Jb.calendar=a(U)}if(a.each(Nb.controls,function(b,c){Jb[c]=a('<div class="dw-cal-pnl" id="'+(Fb.id+"_dw_pnl_"+b)+'"></div>').append(a('<div class="dw-cal-pnl-i"></div>').append(Jb[c])).appendTo(tb)}),i='<div class="dw-cal-tabs"><ul role="tablist">',a.each(Nb.controls,function(a,b){Jb[b]&&(i+='<li role="tab" aria-controls="'+(Fb.id+"_dw_pnl_"+a)+'" class="dw-cal-tab '+(a?"":dc)+'" data-control="'+b+'"><a href="#" class="dwb-e dwb-nhl dw-i '+(a?"":ec)+'">'+Nb[b+"Text"]+"</a></li>")}),i+="</ul></div>",tb.before(i),O=a(".dw-cal-anim-c",M),P=a(".dw-cal-anim",O),W=a(".dw-week-nrs",O),T){for(Y=!0,Gb=a(".dw-cal-slide",P).each(function(b,c){Hb.push(a(c))}),Gb.slice(Yb,Yb+xb).addClass("dw-cal-slide-a").removeAttr("aria-hidden"),I=0;yb>I;I++)y(Hb[I],100*(I-Yb)*Ub);t(nb,ob),$=new e.classes.ScrollView(O[0],{axis:Wb?"Y":"X",easing:"",contSize:0,snap:1,maxSnapScroll:Yb,moveElement:P,mousewheel:Nb.mousewheel,swipe:Nb.swipe,liveSwipe:Nb.liveSwipe,time:200,lock:!0,onScrollStart:function(a,c){c.settings.scrollLock=b.scrollLock},onScrollEnd:function(a){(a=Math.round((a-R)/Q)*Ub)&&w(nb,ob-a,a>0?"prev":"next",a>0?a:-a)}})}ab=a(".dw-cal-month",M),cb=a(".dw-cal-year",M),X=a(".dw-cal-m-c",M),Xb&&(X.on("webkitAnimationEnd animationend",G),gc=a(".dw-cal-month-c",M).on("webkitAnimationEnd animationend",G),hc=a(".dw-cal-year-c",M).on("webkitAnimationEnd animationend",G),a(".dw-cal-sc-p",M),pb={axis:Wb?"Y":"X",contSize:0,snap:1,maxSnapScroll:1,rtl:Nb.rtl,mousewheel:Nb.mousewheel,swipe:Nb.swipe,liveSwipe:Nb.liveSwipe,time:200},Cb=new e.classes.ScrollView(hc[0],pb),_=new e.classes.ScrollView(gc[0],pb)),Rb?f.addClass("dw-cal-liq"):a(".dw-cal",M).width(Vb||280*xb),Nb.calendarHeight&&a(".dw-cal-anim-c",M).height(Nb.calendarHeight),b.tap(O,function(b){b=a(b.target),vb||$.scrolled||(b=b.closest(".dw-cal-day",this),b.hasClass("dw-cal-day-v")&&x.call(b[0]))}),a(".dw-cal-btn",M).on("touchstart mousedown keydown",function(b){var d=a(this);"keydown"!==b.type?(b.preventDefault(),b=j(b,this)):b=32===b.keyCode,wb||!b||d.hasClass("dwb-d")||(wb=!0,d.hasClass("dw-cal-prev-m")?A():d.hasClass("dw-cal-next-m")?z():d.hasClass("dw-cal-prev-y")?C(d):d.hasClass("dw-cal-next-y")&&B(d),a(c).on("mouseup.dwbtn",function(){a(c).off(".dwbtn"),wb=!1}))}).on("touchend touchcancel keyup",function(){wb=!1}),a(".dw-cal-tab",M).on("touchstart click",function(c){j(c,this)&&a.mobiscroll.running&&b.changeTab(a(this).attr("data-control"))}),Xb&&(b.tap(a(".dw-cal-month",M),function(){hc.hasClass("dw-cal-v")||(F(X),Y=X.hasClass("dw-cal-v")),F(gc),E(hc)}),b.tap(a(".dw-cal-year",M),function(){hc.hasClass("dw-cal-v")||Cb.scroll(Db),gc.hasClass("dw-cal-v")||(F(X),Y=X.hasClass("dw-cal-v")),F(hc),E(gc)}),b.tap(a(".dw-cal-month-s",M),function(){!_.scrolled&&!a(this).hasClass("dwb-d")&&b.navigate(Nb.getDate(nb,a(this).attr("data-val"),1))}),b.tap(a(".dw-cal-year-s",M),function(){Cb.scrolled||(H=Nb.getDate(a(this).attr("data-val"),ob,1),b.navigate(new Date(g.constrain(H,ib,jb))))}),b.tap(hc,function(){Cb.scrolled||(E(hc),D(X),Y=!0)}),b.tap(gc,function(){_.scrolled||(E(gc),D(X),Y=!0)}))},onShow:function(){T&&p(nb,ob)},onPosition:function(c,d,e){var f,g,h,i=0,j=0,k=0;if(Rb&&(Sb&&O.height(""),tb.height(""),P.width("")),Q&&(h=Q),(Q=Math.round(Math.round(parseInt(O.css(Wb?"height":"width")))/xb))&&(M.removeClass("mbsc-cal-m mbsc-cal-l"),Q>1024?M.addClass("mbsc-cal-l"):Q>640&&M.addClass("mbsc-cal-m")),(_b&&(V||Rb)||ac)&&(a(".dw-cal-pnl",M).removeClass("dw-cal-pnl-h"),a.each(Jb,function(a,b){f=b.outerWidth(),i=Math.max(i,f),j=Math.max(j,b.outerHeight()),k+=f}),_b||ac&&k>(N[0].innerWidth||N.innerWidth())?(g=!0,ub=a(".dw-cal-tabs .dw-sel",M).attr("data-control"),L.addClass("dw-cal-tabbed")):(ub="calendar",j=i="",L.removeClass("dw-cal-tabbed"),tb.css({width:"",height:""}))),Rb&&Sb&&(b._isFullScreen=!0,g&&T&&tb.height(Jb.calendar.outerHeight()),c=L.outerHeight(),e>=c&&O.height(e-c+O.outerHeight()),T&&(j=Math.max(j,Jb.calendar.outerHeight()))),g&&(tb.css({width:Rb?"":i,height:j}),Q=Math.round(Math.round(parseInt(O.css(Wb?"height":"width")))/xb)),Q){if(P[Wb?"height":"width"](Q),Q!==h){if(Zb)for(Z=Nb.maxMonthWidth>a(".dw-cal-btnw-m",M).width()?Nb.monthNamesShort:Nb.monthNames,I=0;xb>I;++I)a(ab[I]).text(Z[Nb.getMonth(Nb.getDate(nb,ob-Ab+I,1))]);Xb&&(e=hc[Wb?"height":"width"](),a.extend(Cb.settings,{contSize:e,snap:e,minScroll:(2-qb)*e,maxScroll:-e}),a.extend(_.settings,{contSize:e,snap:e,minScroll:-e,maxScroll:-e}),Cb.refresh(),_.refresh(),hc.hasClass("dw-cal-v")&&Cb.scroll(Db)),Rb&&!V&&h&&(e=R/h,R=e*Q),u(nb,ob,!h)}}else Q=h;g&&(a(".dw-cal-pnl",M).addClass("dw-cal-pnl-h"),Jb[ub].removeClass("dw-cal-pnl-h")),b.trigger("onCalResize",[]),V=!1},onHide:function(){Ib=[],Hb=[],ob=nb=ub=null,vb=!0,Q=0,$&&$.destroy(),Xb&&Cb&&_&&(Cb.destroy(),_.destroy())},onValidated:function(a){var c,d,e;if(d=b.getDate(!0),S)c="calendar";else for(e in b.order)e&&b.order[e]===a&&(c=/[mdy]/.test(e)?"date":"time");b.trigger("onSetDate",[{date:d,control:c}]),s(d),S=!1}}),K}}(jQuery,window,document),function(a,b){var c=a.mobiscroll,d=c.classes,e=c.util,f=e.constrain,g=e.jsPrefix,h=e.prefix,i=e.has3d,j=e.getCoord,k=e.getPosition,l=e.testTouch,m=e.isNumeric,n=e.isString,o=window.requestAnimationFrame||function(a){a()},p=window.cancelAnimationFrame||function(){};d.ScrollView=function(c,e,q){function r(b){eb.lock&&O||!l(b,this)||N||!a.mobiscroll.running||("mousedown"==b.type&&b.preventDefault(),y&&y.removeClass("mbsc-btn-a"),I=!1,y=a(b.target).closest(".mbsc-btn-e",this),y.length&&!y.hasClass("mbsc-btn-d")&&(I=!0,z=setTimeout(function(){y.addClass("mbsc-btn-a")},100)),N=!0,M=!1,ab.scrolled=O,W=j(b,"X"),X=j(b,"Y"),G=W,D=C=B=0,V=new Date,U=+k(Z,_)||0,x(U,1),"mousedown"===b.type?a(document).on("mousemove",s).on("mouseup",u):"pointerdown"===b.type&&a(document).on("pointermove",s).on("pointerup",u),$("onScrollStart",[bb]))}function s(a){N&&(G=j(a,"X"),H=j(a,"Y"),B=G-W,C=H-X,D=_?C:B,I&&(5<Math.abs(C)||5<Math.abs(B))&&(clearTimeout(z),y.removeClass("mbsc-btn-a"),I=!1),!M&&5<Math.abs(D)&&(ab.scrolled=!0,eb.liveSwipe&&!Q&&(Q=!0,P=o(t))),_||eb.scrollLock?a.preventDefault():ab.scrolled?a.preventDefault():7<Math.abs(C)&&(M=!0,ab.scrolled=!0,fb.trigger("touchend")))}function t(){K&&(D=f(D,-S*K,S*K)),x(f(U+D,L-F,J+F)),Q=!1}function u(b){if(N){var c;c=new Date-V,p(P),Q=!1,!M&&ab.scrolled&&(eb.momentum&&i&&300>c&&(c=D/c,D=Math.max(Math.abs(D),c*c/eb.speedUnit)*(0>D?-1:1)),w(D)),I&&(clearTimeout(z),y.addClass("mbsc-btn-a"),setTimeout(function(){y.removeClass("mbsc-btn-a")},100),!M&&!ab.scrolled&&$("onBtnTap",[y])),"mouseup"==b.type?a(document).off("mousemove",s).off("mouseup",u):"pointerup"==b.type&&a(document).off("pointermove",s).off("pointerup",u),N=!1}}function v(b){b=b.originalEvent||b,(D=_?b.deltaY||b.wheelDelta||b.detail:b.deltaX)&&a.mobiscroll.running&&(b.preventDefault(),D=0>D?20:-20,U=bb,Q||(Q=!0,P=o(t)),clearTimeout(R),R=setTimeout(function(){p(P),Q=!1,w(D)},200))}function w(a){var b;if(K&&(a=f(a,-S*K,S*K)),cb=Math.round((U+a)/S),b=f(cb*S,L,J),T){if(0>a){for(a=T.length-1;a>=0;a--)if(Math.abs(b)+A>=T[a].breakpoint){cb=a,db=2,b=T[a].snap2;break}}else if(a>=0)for(a=0;a<T.length;a++)if(Math.abs(b)<=T[a].breakpoint){cb=a,db=1,b=T[a].snap1;break}b=f(b,L,J)}x(b,eb.time||(L>bb||bb>J?200:Math.max(200,Math.abs(b-bb)*eb.timeUnit)),function(){$("onScrollEnd",[bb])})}function x(a,b,c){var d=function(){O=!1,c&&c()};O=!0,i?(Y[g+"Transition"]=b?h+"transform "+Math.round(b)+"ms "+eb.easing:"",Y[g+"Transform"]="translate3d("+(_?"0,"+a+"px,":a+"px,0,")+"0)",bb!=a&&b?b&&setTimeout(function(){Y[g+"Transition"]="",d()},b):d()):(setTimeout(d,b||0),Y[E]=a+"px"),bb=a}var y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab=this,bb=0,cb=0,db=1,eb=e,fb=a(c);d.Base.call(this,c,e,!0),ab.scrolled=!1,ab.scroll=function(b,d,e){b=m(b)?Math.round(b/S)*S:Math.ceil((a(b,c).length?Math.round(Z.offset()[E]-a(b,c).offset()[E]):bb)/S)*S,cb=Math.round(b/S),x(f(b,L,J),d,e)},ab.refresh=function(){var a;A=eb.contSize===b?_?fb.height():fb.width():eb.contSize,L=eb.minScroll===b?_?A-Z.height():A-Z.width():eb.minScroll,J=eb.maxScroll===b?0:eb.maxScroll,!_&&eb.rtl&&(a=J,J=-L,L=-a),n(eb.snap)&&(T=[],Z.find(eb.snap).each(function(){var a=_?this.offsetTop:this.offsetLeft,b=_?this.offsetHeight:this.offsetWidth;T.push({breakpoint:a+b/2,snap1:-a,snap2:A-a-b})})),S=m(eb.snap)?eb.snap:1,K=eb.snap?eb.maxSnapScroll:0,F=eb.elastic?m(eb.snap)?S:m(eb.elastic)?eb.elastic:0:0,ab.scroll(eb.snap?T?T[cb]["snap"+db]:cb*S:bb)},ab.init=function(a){ab._init(a),E=(_="Y"==eb.axis)?"top":"left",Z=eb.moveElement||fb.children().eq(0),Y=Z[0].style,ab.refresh(),eb.swipe&&fb.on("touchstart mousedown pointerdown",r).on("touchmove",s).on("touchend touchcancel pointercancel",u),eb.mousewheel&&fb.on("wheel mousewheel",v),c.addEventListener&&c.addEventListener("click",function(a){ab.scrolled&&(a.stopPropagation(),a.preventDefault())},!0)},ab.destroy=function(){fb.off("touchstart mousedown pointerdown",r).off("touchmove",s).off("touchend touchcancel pointercancel",u).off("wheel mousewheel",v),ab._destroy()},eb=ab.settings,$=ab.trigger,q||ab.init(e)},d.ScrollView.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:.8,axis:"Y",easing:"ease-out",swipe:!0,liveSwipe:!0,momentum:!0,elastic:!0}},c.presetShort("scrollview","ScrollView",!1)}(jQuery),function(a,b){var c=a.mobiscroll,d=c.datetime,e=new Date,f={startYear:e.getFullYear()-100,endYear:e.getFullYear()+1,separator:" ",dateFormat:"yy-mm-dd",dateOrder:"ymmdd",timeWheels:"hhiiA",timeFormat:"hh:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now"},g=function(e){function g(a,c,d){return J[c]!==b?+a[J[c]]:K[c]!==b?K[c]:d!==b?d:L[c](U)}function h(a,b,c,d){a.push({values:c,keys:b,label:d})}function i(a,b,c,d){return Math.min(d,Math.floor(a/b)*b+c)}function j(a){if(null===a)return a;var b=g(a,"y"),c=g(a,"m"),d=Math.min(g(a,"d",1),F.getMaxDayOfMonth(b,c)),e=g(a,"h",0);return F.getDate(b,c,d,g(a,"a",0)?e+12:e,g(a,"i",0),g(a,"s",0),g(a,"u",0))}function k(a,b){var c,d,e=!1,f=!1,g=0,h=0;if(Y=j(q(Y)),Z=j(q(Z)),l(a))return a;if(Y>a&&(a=Y),a>Z&&(a=Z),d=c=a,2!==b)for(e=l(c);!e&&Z>c;)c=new Date(c.getTime()+864e5),e=l(c),g++;if(1!==b)for(f=l(d);!f&&d>Y;)d=new Date(d.getTime()-864e5),f=l(d),h++;return 1===b&&e?c:2===b&&f?d:g>=h&&f?d:c}function l(a){return Y>a||a>Z?!1:m(a,N)?!0:m(a,M)?!1:!0}function m(a,b){var c,d,e;if(b)for(d=0;d<b.length;d++)if(c=b[d],e=c+"",!c.start)if(c.getTime){if(a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate())return!0}else if(e.match(/w/i)){if(e=+e.replace("w",""),e==a.getDay())return!0}else if(e=e.split("/"),e[1]){if(e[0]-1==a.getMonth()&&e[1]==a.getDate())return!0}else if(e[0]==a.getDate())return!0;return!1}function n(a,b,c,d,e,f,g){var h,i,j;if(a)for(h=0;h<a.length;h++)if(i=a[h],j=i+"",!i.start)if(i.getTime)F.getYear(i)==b&&F.getMonth(i)==c&&(f[F.getDay(i)-1]=g);else if(j.match(/w/i))for(j=+j.replace("w",""),x=j-d;e>x;x+=7)x>=0&&(f[x]=g);else j=j.split("/"),j[1]?j[0]-1==c&&(f[j[1]-1]=g):f[j[0]-1]=g}function o(c,d,e,f,g,h,j,k,l){var m,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C,G,I,J={},K={h:V,i:W,s:X,a:1},L=F.getDate(g,h,j),M=["a","h","i","s"];c&&(a.each(c,function(a,b){b.start&&(b.apply=!1,m=b.d,n=m+"",o=n.split("/"),m&&(m.getTime&&g==F.getYear(m)&&h==F.getMonth(m)&&j==F.getDay(m)||!n.match(/w/i)&&(o[1]&&j==o[1]&&h==o[0]-1||!o[1]&&j==o[0])||n.match(/w/i)&&L.getDay()==+n.replace("w","")))&&(b.apply=!0,J[L]=!0)}),a.each(c,function(c,f){if(x=A=z=0,y=b,t=s=!0,B=!1,f.start&&(f.apply||!f.d&&!J[L])){for(q=f.start.split(":"),r=f.end.split(":"),w=0;3>w;w++)q[w]===b&&(q[w]=0),r[w]===b&&(r[w]=59),q[w]=+q[w],r[w]=+r[w];for(q.unshift(11<q[0]?1:0),r.unshift(11<r[0]?1:0),S&&(12<=q[1]&&(q[1]-=12),12<=r[1]&&(r[1]-=12)),w=0;d>w;w++)H[w]!==b&&(u=i(q[w],K[M[w]],D[M[w]],E[M[w]]),v=i(r[w],K[M[w]],D[M[w]],E[M[w]]),I=G=C=0,S&&1==w&&(C=q[0]?12:0,G=r[0]?12:0,I=H[0]?12:0),s||(u=0),t||(v=E[M[w]]),(s||t)&&u+C<H[w]+I&&H[w]+I<v+G&&(B=!0),H[w]!=u&&(s=!1),H[w]!=v&&(t=!1));if(!l)for(w=d+1;4>w;w++)0<q[w]&&(z=K[e]),r[w]<E[M[w]]&&(A=K[e]);B||(u=i(q[d],K[e],D[e],E[e])+z,v=i(r[d],K[e],D[e],E[e])-A,s&&(x=0>u?0:u>E[e]?a(".dw-li",k).length:p(k,u)+0),t&&(y=0>v?0:v>E[e]?a(".dw-li",k).length:p(k,v)+1)),(s||t||B)&&(l?a(".dw-li",k).slice(x,y).addClass("dw-v"):a(".dw-li",k).slice(x,y).removeClass("dw-v"))}}))}function p(b,c){return a(".dw-li",b).index(a('.dw-li[data-val="'+c+'"]',b))}function q(c,d){var e=[];return null===c||c===b?c:(a.each("y,m,d,a,h,i,s,u".split(","),function(a,f){J[f]!==b&&(e[J[f]]=L[f](c)),d&&(K[f]=L[f](c))}),e)}function r(a){var b,c,d,e=[];if(a){for(b=0;b<a.length;b++)if(c=a[b],c.start&&c.start.getTime)for(d=new Date(c.start);d<=c.end;)e.push(new Date(d.getFullYear(),d.getMonth(),d.getDate())),d.setDate(d.getDate()+1);else e.push(c);return e}return a}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,s=a(this),t={};if(s.is("input")){switch(s.attr("type")){case"date":u="yy-mm-dd";break;case"datetime":u="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":u="yy-mm-ddTHH:ii:ss";break;case"month":u="yy-mm",t.dateOrder="yymm";break;case"time":u="HH:ii:ss"}v=s.attr("min"),s=s.attr("max"),v&&(t.minDate=d.parseDate(u,v)),s&&(t.maxDate=d.parseDate(u,s))}if(v=a.extend({},e.settings),F=a.extend(e.settings,c.datetime.defaults,f,t,v),G=0,H=[],t=[],I=[],J={},K={},L={y:function(a){return F.getYear(a)},m:function(a){return F.getMonth(a)},d:function(a){return F.getDay(a)},h:function(a){return a=a.getHours(),a=S&&a>=12?a-12:a,i(a,V,$,bb)},i:function(a){return i(a.getMinutes(),W,_,cb)},s:function(a){return i(a.getSeconds(),X,ab,db)},u:function(a){return a.getMilliseconds()},a:function(a){return R&&11<a.getHours()?1:0}},M=F.invalid,N=F.valid,v=F.preset,O=F.dateOrder,P=F.timeWheels,Q=O.match(/D/),R=P.match(/a/i),S=P.match(/h/),T="datetime"==v?F.dateFormat+F.separator+F.timeFormat:"time"==v?F.timeFormat:F.dateFormat,U=new Date,s=F.steps||{},V=s.hour||F.stepHour||1,W=s.minute||F.stepMinute||1,X=s.second||F.stepSecond||1,s=s.zeroBased,Y=F.minDate||new Date(F.startYear,0,1),Z=F.maxDate||new Date(F.endYear,11,31,23,59,59),$=s?0:Y.getHours()%V,_=s?0:Y.getMinutes()%W,ab=s?0:Y.getSeconds()%X,bb=Math.floor(((S?11:23)-$)/V)*V+$,cb=Math.floor((59-_)/W)*W+_,db=Math.floor((59-_)/W)*W+_,u=u||T,v.match(/date/i)){for(a.each(["y","m","d"],function(a,b){w=O.search(RegExp(b,"i")),w>-1&&I.push({o:w,v:b})}),I.sort(function(a,b){return a.o>b.o?1:-1}),a.each(I,function(a,b){J[b.v]=a}),s=[],x=0;3>x;x++)if(x==J.y){for(G++,z=[],y=[],A=F.getYear(Y),B=F.getYear(Z),w=A;B>=w;w++)y.push(w),z.push((O.match(/yy/i)?w:(w+"").substr(2,2))+(F.yearSuffix||""));h(s,y,z,F.yearText)}else if(x==J.m){for(G++,z=[],y=[],w=0;12>w;w++)A=O.replace(/[dy]/gi,"").replace(/mm/,(9>w?"0"+(w+1):w+1)+(F.monthSuffix||"")).replace(/m/,w+1+(F.monthSuffix||"")),y.push(w),z.push(A.match(/MM/)?A.replace(/MM/,'<span class="dw-mon">'+F.monthNames[w]+"</span>"):A.replace(/M/,'<span class="dw-mon">'+F.monthNamesShort[w]+"</span>"));h(s,y,z,F.monthText)}else if(x==J.d){for(G++,z=[],y=[],w=1;32>w;w++)y.push(w),z.push((O.match(/dd/i)&&10>w?"0"+w:w)+(F.daySuffix||""));h(s,y,z,F.dayText)}t.push(s)}if(v.match(/time/i)){for(C=!0,I=[],a.each(["h","i","s","a"],function(a,b){a=P.search(RegExp(b,"i")),a>-1&&I.push({o:a,v:b})}),I.sort(function(a,b){return a.o>b.o?1:-1}),a.each(I,function(a,b){J[b.v]=G+a}),s=[],x=G;G+4>x;x++)if(x==J.h){for(G++,z=[],y=[],w=$;(S?12:24)>w;w+=V)y.push(w),z.push(S&&0===w?12:P.match(/hh/i)&&10>w?"0"+w:w);h(s,y,z,F.hourText)}else if(x==J.i){for(G++,z=[],y=[],w=_;60>w;w+=W)y.push(w),z.push(P.match(/ii/)&&10>w?"0"+w:w);h(s,y,z,F.minuteText)}else if(x==J.s){for(G++,z=[],y=[],w=ab;60>w;w+=X)y.push(w),z.push(P.match(/ss/)&&10>w?"0"+w:w);h(s,y,z,F.secText)}else x==J.a&&(G++,v=P.match(/A/),h(s,[0,1],v?[F.amText.toUpperCase(),F.pmText.toUpperCase()]:[F.amText,F.pmText],F.ampmText));t.push(s)}return e.getVal=function(a){return e._hasValue||a?j(e.getArrayVal(a)):null},e.setDate=function(a,b,c,d,f){e.setArrayVal(q(a),b,f,d,c)},e.getDate=e.getVal,e.format=T,e.order=J,e.handlers.now=function(){e.setDate(new Date,!1,.3,!0,!0)},e.buttons.now={text:F.nowText,handler:"now"},M=r(M),N=r(N),D={y:Y.getFullYear(),m:0,d:1,h:$,i:_,s:ab,a:0},E={y:Z.getFullYear(),m:11,d:31,h:bb,i:cb,s:db,a:1},{wheels:t,headerText:F.headerText?function(){return d.formatDate(T,j(e.getArrayVal(!0)),F)}:!1,formatValue:function(a){return d.formatDate(u,j(a),F)},parseValue:function(a){return a||(K={}),q(a?d.parseDate(u,a,F):F.defaultValue||new Date,!!a&&!!a.getTime)},validate:function(c,d,f,h){var d=k(j(e.getArrayVal(!0)),h),i=q(d),l=g(i,"y"),m=g(i,"m"),r=!0,s=!0;a.each("y,m,d,a,h,i,s".split(","),function(d,e){var f,h,j,k,o,q,t;J[e]!==b&&(f=D[e],h=E[e],j=31,k=g(i,e),o=a(".dw-ul",c).eq(J[e]),"d"==e&&(h=j=F.getMaxDayOfMonth(l,m),Q&&a(".dw-li",o).each(function(){var b=a(this),c=b.data("val"),d=F.getDate(l,m,c).getDay(),c=O.replace(/[my]/gi,"").replace(/dd/,(10>c?"0"+c:c)+(F.daySuffix||"")).replace(/d/,c+(F.daySuffix||""));a(".dw-i",b).html(c.match(/DD/)?c.replace(/DD/,'<span class="dw-day">'+F.dayNames[d]+"</span>"):c.replace(/D/,'<span class="dw-day">'+F.dayNamesShort[d]+"</span>"))})),r&&Y&&(f=L[e](Y)),s&&Z&&(h=L[e](Z)),"y"!=e&&(q=p(o,f),t=p(o,h),a(".dw-li",o).removeClass("dw-v").slice(q,t+1).addClass("dw-v"),"d"==e&&a(".dw-li",o).removeClass("dw-h").slice(j).addClass("dw-h")),f>k&&(k=f),k>h&&(k=h),r&&(r=k==f),s&&(s=k==h),"d"==e&&(f=F.getDate(l,m,1).getDay(),h={},n(M,l,m,f,j,h,1),n(N,l,m,f,j,h,0),a.each(h,function(b,c){c&&a(".dw-li",o).eq(b).removeClass("dw-v")})))}),C&&a.each(["a","h","i","s"],function(d,f){var j=g(i,f),k=g(i,"d"),n=a(".dw-ul",c).eq(J[f]);J[f]!==b&&(o(M,d,f,i,l,m,k,n,0),o(N,d,f,i,l,m,k,n,1),H[d]=+e.getValidCell(j,n,h).val)}),e._tempWheelArray=i}}};a.each(["date","time","datetime"],function(a,b){c.presets.scroller[b]=g})}(jQuery),function(a){a.each(["date","time","datetime"],function(b,c){a.mobiscroll.presetShort(c)})}(jQuery),function(a,b,c,d){var e=a.mobiscroll,f=a.extend,g=e.util,h=e.datetime,i=e.presets.scroller,j={labelsShort:"Yrs,Mths,Days,Hrs,Mins,Secs".split(","),fromText:"Start",toText:"End",eventText:"event",eventsText:"events"};e.presetShort("calendar"),i.calendar=function(c){function k(c){if(c){if(H[c])return H[c];var d=a('<div style="background-color:'+c+';"></div>').appendTo("body"),e=(b.getComputedStyle?getComputedStyle(d[0]):d[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),e=130<.299*e[0]+.587*e[1]+.114*e[2]?"#000":"#fff";return d.remove(),H[c]=e}}function l(a){return a.sort(function(a,b){var c=a.d||a.start,d=b.d||b.start,c=c.getTime?a.start&&a.end&&a.start.toDateString()!==a.end.toDateString()?1:c.getTime():0,d=d.getTime?b.start&&b.end&&b.start.toDateString()!==b.end.toDateString()?1:d.getTime():0;return c-d})}function m(b){var c=a(".dw-cal-c",t).outerHeight(),d=b.outerHeight(),e=b.outerWidth(),f=b.offset().top-a(".dw-cal-c",t).offset().top,g=2>b.closest(".dw-cal-row").index();c=u.addClass("dw-cal-events-t").css({top:g?f+d:"0",bottom:g?"0":c-f}).addClass("dw-cal-events-v").height(),u.css(g?"bottom":"top","auto").removeClass("dw-cal-events-t"),y.css("max-height",c),x.refresh(),x.scroll(0),g?u.addClass("dw-cal-events-b"):u.removeClass("dw-cal-events-b"),a(".dw-cal-events-arr",u).css("left",b.offset().left-u.offset().left+e/2)}function n(b,d){var g,h,i,j,n,o,f=w[b];f&&(o='<ul class="dw-cal-event-list">',v=d,d.addClass(J).find(".dw-i").addClass(L),d.hasClass(K)&&d.attr("data-hl","true").removeClass(K),l(f),a.each(f,function(a,b){var f,c,d,l,m,p,q,r;j=b.d||b.start,n=b.start&&b.end&&b.start.toDateString()!==b.end.toDateString(),i=b.color,k(i),h=g="",j.getTime&&(g=e.datetime.formatDate((n?"MM d yy ":"")+I.timeFormat,j)),b.end&&(h=e.datetime.formatDate((n?"MM d yy ":"")+I.timeFormat,b.end)),c=o,d='<li role="button" aria-label="'+b.text+(g?", "+I.fromText+" "+g:"")+(h?", "+I.toText+" "+h:"")+'" class="dw-cal-event"><div class="dw-cal-event-color" style="'+(i?"background:"+i+";":"")+'"></div><div class="dw-cal-event-text">'+(j.getTime&&!n?'<div class="dw-cal-event-time">'+e.datetime.formatDate(I.timeFormat,j)+"</div>":"")+b.text+"</div>",b.start&&b.end?(f=I.labelsShort,l=Math.abs(b.end-b.start)/1e3,m=l/60,p=m/60,q=p/24,r=q/365,f='<div class="dw-cal-event-dur">'+(45>l&&Math.round(l)+" "+f[5].toLowerCase()||45>m&&Math.round(m)+" "+f[4].toLowerCase()||24>p&&Math.round(p)+" "+f[3].toLowerCase()||30>q&&Math.round(q)+" "+f[2].toLowerCase()||365>q&&Math.round(q/30)+" "+f[1].toLowerCase()||Math.round(r)+" "+f[0].toLowerCase())+"</div>"):f="",o=c+(d+f+"</li>")}),o+="</ul>",z.html(o),m(v),c.tap(a(".dw-cal-event",z),function(d){x.scrolled||c.trigger("onEventSelect",[d,f[a(this).index()],b])}),A=!0,c.trigger("onEventBubbleShow",[v,u]))}function o(){u&&u.removeClass("dw-cal-events-v"),v&&(v.removeClass(J).find(".dw-i").removeClass(L),v.attr("data-hl")&&v.removeAttr("data-hl").addClass(K)),A=!1}function p(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())}function q(a){if(Q={},a&&a.length)for(C=0;C<a.length;C++)Q[p(a[C])]=a[C]}function r(){R&&o(),c.refresh()}var s,t,u,v,w,x,y,z,A,B,C,D,E,G,H={},F=f({},c.settings),I=f(c.settings,j,F),J="dw-sel dw-cal-day-ev",K="dw-cal-day-hl",L=I.activeClass||"",M=I.multiSelect||"week"==I.selectType,N=I.markedDisplay,O=!0===I.events||!0===I.markedText,P=0,Q={},R=a.isArray(I.events),S=R?f(!0,[],I.events):[];if(F=i.calbase.call(this,c),s=f({},F),B=I.firstSelectDay===d?I.firstDay:I.firstSelectDay,I.selectedValues)for(C=0;C<I.selectedValues.length;C++)Q[p(I.selectedValues[C])]=I.selectedValues[C];
return R&&a.each(S,function(a,b){b._id===d&&(b._id=P++)}),c.onGenMonth=function(a,b){w=c.prepareObj(S,a,b),D=c.prepareObj(I.marked,a,b)},c.getDayProps=function(b){for(var c=M?Q[b]!==d:R?b.getTime()===(new Date).setHours(0,0,0,0):d,e=D[b]?D[b][0]:!1,f=w[b]?w[b][0]:!1,g=e||f,e=e.text||(f?w[b].length+" "+(1<w[b].length?I.eventsText:I.eventText):0),f=D[b]||w[b]||[],h=g.color,i=O&&e?k(h):"",j="",l='<div class="dw-cal-day-m"'+(h?' style="background-color:'+h+";border-color:"+h+" "+h+' transparent transparent"':"")+"></div>",b=0;b<f.length;b++)f[b].icon&&(j+='<span class="mbsc-ic mbsc-ic-'+f[b].icon+'"'+(f[b].text?"":f[b].color?' style="color:'+f[b].color+';"':"")+"></span>\n");if("bottom"==N){for(l='<div class="dw-cal-day-m"><div class="dw-cal-day-m-t">',b=0;b<f.length;b++)l+='<div class="dw-cal-day-m-c"'+(f[b].color?' style="background:'+f[b].color+';"':"")+"></div>";l+="</div></div>"}return{marked:g,selected:R?!1:c,cssClass:R&&c?"dw-cal-day-hl":g?"dw-cal-day-marked":"",ariaLabel:O||R?e:"",markup:O&&e?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt '+(I.eventTextClass||"")+'" title="'+a("<div>"+e+"</div>").text()+'"'+(h?' style="background:'+h+";color:"+i+';text-shadow:none;"':"")+">"+j+e+"</div></div>":O&&j?'<div class="dw-cal-day-ic-c">'+j+"</div>":g?l:""}},c.addValue=function(a){Q[p(a)]=a,r()},c.removeValue=function(a){delete Q[p(a)],r()},c.setVal=function(a,b,d,e,f){M&&(q(a),a=a?a[0]:null),c._setVal(a,b,d,e,f),r()},c.getVal=function(a){return M?g.objectToArray(Q):c.getDate(a)},c.setValues=function(a,b){c.setDate(a?a[0]:null,b),q(a),r()},c.getValues=function(){return M?c.getVal():[c.getDate()]},R&&(c.addEvent=function(b){var c=[],b=f(!0,[],a.isArray(b)?b:[b]);return a.each(b,function(a,b){b._id===d&&(b._id=P++),S.push(b),c.push(b._id)}),r(),c},c.removeEvent=function(b){b=a.isArray(b)?b:[b],a.each(b,function(b,c){a.each(S,function(a,b){return b._id===c?(S.splice(a,1),!1):void 0})}),r()},c.getEvents=function(a){var b;return a?(a.setHours(0,0,0,0),b=c.prepareObj(S,a.getFullYear(),a.getMonth()),b[a]?l(b[a]):[]):f(!0,[],S)},c.setEvents=function(b){var c=[];return S=f(!0,[],b),a.each(S,function(a,b){b._id===d&&(b._id=P++),c.push(b._id)}),r(),c}),f(F,{highlight:!M&&!R,divergentDayChange:!M&&!R,buttons:R&&"inline"!==I.display?["cancel"]:I.buttons,parseValue:function(a){var b,d;if(M&&a&&"string"==typeof a){for(Q={},a=a.split(","),b=0;b<a.length;b++)d=h.parseDate(c.format,a[b].replace(/^\s+|\s+$/g,""),I),Q[p(d)]=d;a=a[0]}return s.parseValue.call(this,a)},formatValue:function(a){var b,d=[];if(M){for(b in Q)d.push(h.formatDate(c.format,Q[b],I));return d.join(", ")}return s.formatValue.call(this,a)},onClear:function(){M&&(Q={},c.refresh())},onBeforeShow:function(){R&&(I.headerText=!1),I.closeOnSelect&&(I.divergentDayChange=!1),I.counter&&M&&(I.headerText=function(){var b=0,c="week"==I.selectType?7:1;return a.each(Q,function(){b++}),b=Math.round(b/c),(b>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,b)})},onMarkupReady:function(b){s.onMarkupReady.call(this,b),t=b,M&&(a(".dwv",b).attr("aria-live","off"),E=f({},Q)),O&&a(".dw-cal",b).addClass("dw-cal-ev"),N&&a(".dw-cal",b).addClass("dw-cal-m-"+N),R&&(b.addClass("dw-cal-em"),u=a('<div class="dw-cal-events '+(I.eventBubbleClass||"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(a(".dw-cal-c",b)),y=a(".dw-cal-events-i",u),z=a(".dw-cal-events-sc",u),x=new e.classes.ScrollView(y[0]),A=!1,c.tap(y,function(){x.scrolled||o()}))},onMonthChange:function(){R&&o()},onSelectShow:function(){R&&o()},onMonthLoaded:function(){G&&(n(G.d,a('.dw-cal-day-v[data-full="'+G.full+'"]:not(.dw-cal-day-diff)',t)),G=!1)},onDayChange:function(b){var g,h,i,d=b.date,e=p(d),f=a(b.cell);if(b=b.selected,R)o(),f.hasClass("dw-cal-day-ev")||setTimeout(function(){c.changing?G={d:e,full:f.attr("data-full")}:n(e,f)},10);else if(M)if("week"==I.selectType){for(i=e.getDay()-B,i=0>i?7+i:i,I.multiSelect||(Q={}),g=0;7>g;g++)h=new Date(e.getFullYear(),e.getMonth(),e.getDate()-i+g),b?delete Q[h]:Q[h]=h;r()}else g=a('.dw-cal .dw-cal-day[data-full="'+f.attr("data-full")+'"]',t),b?(g.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(L),delete Q[e]):(g.addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(L),Q[e]=e);return R||I.multiSelect||!I.closeOnSelect||"inline"===I.display?void 0:(c.needsSlide=!1,c.setDate(d),c.select(),!1)},onCalResize:function(){A&&m(v)},onCancel:function(){!c.live&&M&&(Q=f({},E))}}),F}}(jQuery,window,document),function(a){var b,c,d,e=a.mobiscroll,f=e.themes;c=navigator.userAgent.match(/Android|iPhone|iPad|iPod|Windows|Windows Phone|MSIE/i),/Android/i.test(c)?(b="android-holo",(c=navigator.userAgent.match(/Android\s+([\d\.]+)/i))&&(c=c[0].replace("Android ",""),b=5<=c.split(".")[0]?"material":4<=c.split(".")[0]?"android-holo":"android")):/iPhone/i.test(c)||/iPad/i.test(c)||/iPod/i.test(c)?(b="ios",(c=navigator.userAgent.match(/OS\s+([\d\_]+)/i))&&(c=c[0].replace(/_/g,".").replace("OS ",""),b=c>="7"?"ios":"ios-classic")):(/Windows/i.test(c)||/MSIE/i.test(c)||/Windows Phone/i.test(c))&&(b="wp"),a.each(f,function(c,f){return a.each(f,function(a,c){return c.baseTheme==b?(e.autoTheme=a,d=!0,!1):(a==b&&(e.autoTheme=a),void 0)}),d?!1:void 0})}(jQuery);